{"version":3,"sources":["js/ui/header.jsx","js/pages/policy/controls.jsx","js/pages/policy/menu.jsx","js/pages/policy/overview.jsx","js/pages/policy.jsx","js/pages/situation/menu.jsx","js/pages/situation/default_situation.js","js/pages/situation/controls.jsx","js/pages/situation/overview.jsx","js/pages/situation.jsx","js/pages/population-results/results.jsx","js/pages/population-results/overview.jsx","js/pages/population-results.jsx","js/pages/situation-results/results.jsx","js/pages/situation-results.jsx","js/pages/policy/default_policy.js","js/App.jsx","index.js"],"names":["Step","Steps","TopHeader","className","title","subTitle","Header","props","INTRO","style","fontSize","TITLES","DESCRIPTIONS","steps","i","length","push","description","minWidth","Container","fluid","Row","padding","Col","md","current","step","paddingTop","paddingBottom","direction","Parameter","formatter","parser","param","type","value","replace","onChange","name","checked","min","max","tooltipVisible","width","ParameterGroup","names","map","policy","rate","NothingControls","PolicyControls","controlSet","main_rates","employee_side","allowances","basic_income","selected","SubMenu","Menu","PolicyMenu","onClick","e","key","mode","defaultOpenKeys","defaultSelectedKeys","Item","React","Component","SimulateButton","searchParams","URLSearchParams","window","location","search","default","set","delete","url","target","toString","to","text","PolicyOverview","progressDot","Object","keys","status","summary","image","onSubmit","Policy","state","updatePolicy","bind","selectPolicyMenuItem","this","setState","xl","SituationMenu","familyMenuItems","household","families","familyName","peopleMenuItems","numChildren","j","people","isAdult","age","index","onSelect","DEFAULT_HOUSEHOLD","num_families","DEFAULT_FAMILY","num_people","DEFAULT_PERSON","employment_income","DEFAULT_SITUATION","SituationControls","returnFunction","onEnter","includes","family_number","split","person_number","SituationOverview","console","log","isSingleFamily","numPensioners","numWA","noButton","Situation","situation","updateSituation","JSON","parse","stringify","pop","antIcon","LoadingOutlined","spin","HeadlineFigure","margin","precision","prefix","noArrow","nonNumeric","ArrowUpOutlined","ArrowDownOutlined","suffix","Chart","data","plot","layout","config","displayModeBar","PopulationResultsPane","results","net_cost","poverty_change","winner_share","loser_share","inequality_change","decile_plot","poverty_plot","mtr_plot","LoadingResultsPane","message","indicator","PolicySituationOverview","PopulationResults","plan","waiting","simulate","submission","fetch","method","headers","body","then","res","json","minHeight","paddingLeft","ChangedHeadlineFigure","formatNumber","num","gbp","toLocaleString","undefined","minimumFractionDigits","maximumFractionDigits","oldV","oldValue","newV","newValue","gain","loss","changeColor","color","x","SituationResultsPane","NAMES","KEYS","headlineFigures","old","new","SituationResults","DEFAULT_POLICY","basic_rate","higher_rate","add_rate","basic_threshold","higher_threshold","add_threshold","personal_allowance","NI_main_rate","NI_add_rate","NI_PT","NI_UEL","child_BI","adult_BI","senior_BI","getPolicyFromURL","URL","document","get","App","path","exact","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.5616e88e.chunk.js","sourcesContent":["import { Row, Col, Container } from \"react-bootstrap\";\nimport React from \"react\";\nimport { Steps, PageHeader } from \"antd\";\nimport { Link } from \"react-router-dom\";\n\nimport \"../../css/App.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"antd/dist/antd.css\";\n\nconst { Step } = Steps;\n\nfunction getURLParamsFromPolicy(target, policy) {\n\tlet searchParams = new URLSearchParams(window.location.search);\n\tfor (const key in policy) {\n\t\tif (policy[key].value !== policy[key].default) {\n\t\t\tsearchParams.set(key, +policy[key].value);\n\t\t} else {\n\t\t\tsearchParams.delete(key);\n\t\t}\n\t}\n\tconst url = `${target || \"/situation\"}?${searchParams.toString()}`;\n\treturn url;\n}\n\nfunction TopHeader() {\n\treturn (\n\t\t<>\n\t\t\t<div className=\"d-none d-md-block\">\n\t\t\t\t<PageHeader\n\t\t\t\t\ttitle=\"openfisca-uk\"\n\t\t\t\t\tsubTitle=\"reform explorer\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"d-md-none d-flex justify-content-center\">\n\t\t\t\t<PageHeader\n\t\t\t\t\ttitle=\"openfisca-uk\"\n\t\t\t\t\tsubTitle=\"reform explorer\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nfunction Header(props) {\n\tconst INTRO = (\n\t\t<p style={{fontSize: 16}}>\n      Welcome to the OpenFisca-UK Reform Explorer. Powered by the open-source\n      microsimulation model OpenFisca-UK, this site allows you to experiment\n      with different changes to how taxes and benefits are set in the United\n      Kingdom, and simulate the results on people, families and households in\n      the country.\n\t\t</p>\n\t);\n\tconst TITLES = [\"Policy\", \"About you\", \"UK-wide effects\", \"Your results\"];\n\tconst DESCRIPTIONS = [\n\t\t\"Specify changes to the current taxes and benefit programmes\",\n\t\t\"Describe your household to calculate the effects on you and your family\",\n\t\t\"Simulate the changes on people, families and households in the UK\",\n\t\t\"Simulate the reform, showing your finances before and after\"\n\t];\n\tlet steps = [];\n\tfor(let i = 0; i < TITLES.length; i++) {\n\t\tsteps.push(<Step key={i} title={TITLES[i]} description={DESCRIPTIONS[i]} style={{minWidth: 200}}/>);\n\t}\n\treturn (\n\t\t<>\n\t\t\t<TopHeader />\n\t\t\t<Container style={{minWidth: 400}} fluid>\n\t\t\t\t<Row style={{ padding: 50 }} className=\"d-none d-xl-flex\">\n\t\t\t\t\t<Col md={4} style={{minWidth: 300}}>{INTRO}</Col>\n\t\t\t\t\t<Col md={8}>\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Steps current={props.step}>\n\t\t\t\t\t\t\t\t\t{steps}\n\t\t\t\t\t\t\t\t</Steps>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row style={{ padding: 50, paddingTop: 20 }} className=\"d-xl-none\">\n\t\t\t\t\t<Col md={4} style={{ paddingBottom: 20 }}>\n\t\t\t\t\t\t{INTRO}\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col md={8}>\n\t\t\t\t\t\t<Steps current={props.step} direction=\"vertical\">\n\t\t\t\t\t\t\t{steps}\n\t\t\t\t\t\t</Steps>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Container>\n\t\t</>\n\t);\n}\n\nexport default Header;\n","import \"bootstrap/dist/css/bootstrap.min.css\";\nimport React from \"react\";\nimport \"antd/dist/antd.css\";\nimport {\n\tInputNumber, Divider, Switch, Slider,\n} from \"antd\";\n\nfunction Parameter(props) {\n\tlet formatter = null;\n\tlet parser = null;\n\tif (props.param.type === \"rate\") {\n\t\tformatter = (value) => `${value}%`;\n\t\tparser = (value) => value.replace(\"%\", \"\");\n\t} else if (props.param.type === \"weekly\") {\n\t\tformatter = (value) => `£${value}/week`;\n\t\tparser = (value) => value.replace(\"£\", \"\").replace(\"/week\", \"\");\n\t} else if (props.param.type === \"yearly\") {\n\t\tformatter = (value) => `£${value}/year`;\n\t\tparser = (value) => value.replace(\"£\", \"\").replace(\"/year\", \"\");\n\t} else if (props.param.type === \"monthly\") {\n\t\tformatter = (value) => `£${value}/month`;\n\t\tparser = (value) => value.replace(\"£\", \"\").replace(\"/month\", \"\");\n\t}\n\treturn (\n\t\t<>\n\t\t\t<Divider>{props.param.title}</Divider>\n\t\t\t<p>{props.param.description}</p>\n\t\t\t{props.param.type === \"bool\"\n\t\t\t\t? (\n\t\t\t\t\t<Switch\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\tprops.onChange(props.name, value);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tchecked={props.param.value}\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t\t: (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\tvalue={props.param.value}\n\t\t\t\t\t\t\tmin={props.param.min || 0}\n\t\t\t\t\t\t\tmax={props.param.max || 100}\n\t\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\t\tprops.onChange(props.name, value);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttooltipVisible={false}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<InputNumber\n\t\t\t\t\t\t\tvalue={props.param.value}\n\t\t\t\t\t\t\tmin={props.param.min ? props.min : null}\n\t\t\t\t\t\t\tmax={props.param.max ? props.max : null}\n\t\t\t\t\t\t\tformatter={formatter}\n\t\t\t\t\t\t\tparser={parser}\n\t\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\t\tprops.onChange(props.name, value);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tstyle={{ width: 175 }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t</>\n\t);\n}\n\nexport function ParameterGroup(props) {\n\treturn (\n\t\t<>\n\t\t\t{props.names.map((name) => <Parameter key={name} name={name} param={props.policy[name]} onChange={props.onChange} rate />)}\n\t\t</>\n\t);\n}\n\nexport function NothingControls(props) {\n\treturn (\n\t\t<>\n\t\t\t<Divider>No parameters available</Divider>\n\t\t\t<p>No parameters are currently available for this category.</p>\n\t\t</>\n\t);\n}\n\nfunction PolicyControls(props) {\n\tconst controlSet = {\n\t\tmain_rates: [\n\t\t\t\"basic_rate\",\n\t\t\t\"basic_threshold\",\n\t\t\t\"higher_rate\",\n\t\t\t\"higher_threshold\",\n\t\t\t\"add_rate\",\n\t\t\t\"add_threshold\",\n\t\t],\n\t\temployee_side: [\n\t\t\t\"NI_main_rate\",\n\t\t\t\"NI_PT\",\n\t\t\t\"NI_add_rate\",\n\t\t\t\"NI_UEL\",\n\t\t],\n\t\tallowances: [\n\t\t\t\"personal_allowance\",\n\t\t],\n\t\tbasic_income: [\n\t\t\t\"child_BI\",\n\t\t\t\"adult_BI\",\n\t\t\t\"senior_BI\",\n\t\t],\n\t};\n\tconst names = controlSet[props.selected];\n\tif (!(props.selected in controlSet)) {\n\t\treturn <NothingControls key={props.selected} policy={props.policy} />;\n\t}\n\treturn <ParameterGroup key={props.selected} onChange={props.onChange} policy={props.policy} names={names} />;\n}\n\nexport default PolicyControls;","import { Menu } from \"antd\";\nimport React from \"react\";\n\nconst { SubMenu } = Menu;\n\nclass PolicyMenu extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<Menu\n\t\t\t\tonClick={(e) => {this.props.onClick(e.key);}}\n\t\t\t\tmode=\"inline\"\n\t\t\t\tdefaultOpenKeys={[\"tax\", \"income_tax\"]}\n\t\t\t\tdefaultSelectedKeys={[\"main_rates\"]}\n\t\t\t>\n\t\t\t\t<SubMenu key=\"tax\" title=\"Tax\">\n\t\t\t\t\t<SubMenu key=\"income_tax\" title=\"Income Tax\">\n\t\t\t\t\t\t<Menu.Item key=\"main_rates\">Labour income</Menu.Item>\n\t\t\t\t\t\t<Menu.Item key=\"sav_div\">Savings and dividends</Menu.Item>\n\t\t\t\t\t\t<Menu.Item key=\"allowances\">Allowances</Menu.Item>\n\t\t\t\t\t\t<Menu.Item key=\"it_alt\">Structural</Menu.Item>\n\t\t\t\t\t</SubMenu>\n\t\t\t\t\t<SubMenu key=\"national_insurance\" title=\"National Insurance\">\n\t\t\t\t\t\t<Menu.Item key=\"employee_side\">Employees</Menu.Item>\n\t\t\t\t\t\t<Menu.Item key=\"employer_side\">Employers</Menu.Item>\n\t\t\t\t\t\t<Menu.Item key=\"ni_alt\">Structural</Menu.Item>\n\t\t\t\t\t</SubMenu>\n\t\t\t\t</SubMenu>\n\t\t\t\t<SubMenu key=\"benefit\" title=\"Benefit\">\n\t\t\t\t\t<SubMenu key=\"means\" title=\"Means-tested benefits\">\n\t\t\t\t\t\t<Menu.Item key=\"universal_credit\">Universal Credit</Menu.Item>\n\t\t\t\t\t\t<Menu.Item key=\"jsa\">JSA</Menu.Item>\n\t\t\t\t\t\t<Menu.Item key=\"cb\">Child Benefit</Menu.Item>\n\t\t\t\t\t\t<Menu.Item key=\"wtc\">Working Tax Credit</Menu.Item>\n\t\t\t\t\t\t<Menu.Item key=\"ctc\">Child Tax Credit</Menu.Item>\n\t\t\t\t\t\t<Menu.Item key=\"hb\">Housing Benefit</Menu.Item>\n\t\t\t\t\t\t<Menu.Item key=\"is\">Income Support</Menu.Item>\n\t\t\t\t\t</SubMenu>\n\t\t\t\t</SubMenu>\n\t\t\t\t<Menu.Item key=\"basic_income\">Basic income</Menu.Item>\n\t\t\t</Menu>\n\t\t);\n\t}\n}\n\nexport default PolicyMenu;","import { Steps, Divider, Empty, Button } from \"antd\";\nimport { Link } from \"react-router-dom\";\n\nconst { Step } = Steps;\n\nexport function SimulateButton(props) {\n\tconst { policy } = props;\n\tlet searchParams = new URLSearchParams(window.location.search);\n\tfor (const key in policy) {\n\t\tif (policy[key].value !== policy[key].default) {\n\t\t\tsearchParams.set(key, +policy[key].value);\n\t\t} else {\n\t\t\tsearchParams.delete(key);\n\t\t}\n\t}\n\tconst url = `${props.target || \"/situation\"}?${searchParams.toString()}`;\n\treturn (\n\t\t<div>\n\t\t\t<Link to={url}><Button onClick={props.onClick}>{props.text || \"Simulate\"}</Button></Link>\n\t\t</div>\n\t);\n}\n\nfunction PolicyOverview(props) {\n\treturn (\n\t\t<>\n\t\t\t<Divider>Your plan</Divider>\n\t\t\t<Steps progressDot direction=\"vertical\">\n\t\t\t\t{\n\t\t\t\t\tObject.keys(props.policy).map((key, i) => (\n\t\t\t\t\t\tprops.policy[key].value !== props.policy[key].default\n\t\t\t\t\t\t\t? <Step key={key} status=\"finish\" title={props.policy[key].title} description={props.policy[key].summary.replace(\"@\", props.policy[key].value)} />\n\t\t\t\t\t\t\t: null\n\t\t\t\t\t))\n\t\t\t\t}\n\t\t\t</Steps>\n\t\t\t<Empty description=\"\" image={null}>\n\t\t\t\t<SimulateButton policy={props.policy} onClick={props.onSubmit} text=\"Describe your situation\"/>\n\t\t\t</Empty>\n\t\t</>\n\t);\n}\n\n\n\nexport default PolicyOverview;","import React from \"react\";\nimport PolicyControls from \"./policy/controls\";\nimport PolicyMenu from \"./policy/menu\";\nimport PolicyOverview from \"./policy/overview\";\nimport {Row, Col} from \"react-bootstrap\";\n\n\nclass Policy extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {policy: props.policy, selected: \"main_rates\"};\n\t\tthis.updatePolicy = this.updatePolicy.bind(this);\n\t\tthis.selectPolicyMenuItem = this.selectPolicyMenuItem.bind(this);\n\t}\n\n\tselectPolicyMenuItem(name) {\n\t\tthis.setState({selected: name});\n\t}\n\n\tupdatePolicy(name, value) {\n\t\tlet policy = this.state.policy;\n\t\tpolicy[name].value = value;\n\t\tthis.setState({policy: policy});\n\t}\n    \n\trender() {\n\t\treturn (\n\t\t\t<Row>\n\t\t\t\t<Col xl={3}>\n\t\t\t\t\t<PolicyMenu onClick={this.selectPolicyMenuItem}/>\n\t\t\t\t</Col>\n\t\t\t\t<Col xl={6}>\n\t\t\t\t\t<PolicyControls policy={this.state.policy} selected={this.state.selected} onChange={this.updatePolicy}/>\n\t\t\t\t</Col>\n\t\t\t\t<Col xl={3}>\n\t\t\t\t\t<PolicyOverview policy={this.state.policy} onSubmit={() => {this.props.onSubmit(this.state.policy);}}/>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t);\n\t}\n}\n\nexport default Policy;","import { Menu } from \"antd\";\n\nconst { SubMenu } = Menu;\n\nfunction SituationMenu(props) {\n\tlet familyMenuItems = [];\n\tfor(let i = 0; i < props.household.families.length; i++) {\n\t\tconst familyName = `family-${i}`;\n\t\tlet peopleMenuItems = [];\n\t\tlet numChildren = 0;\n\t\tfor(let j = 0; j < props.household.families[i].people.length; j++) {\n\t\t\tconst name = `family-${i}-person-${j}`;\n\t\t\tconst isAdult = props.household.families[i].people[j].age.value >= 18;\n\t\t\tconst title = isAdult ? \"Adult\" : \"Child\";\n\t\t\tif(!isAdult) {\n\t\t\t\tnumChildren++;\n\t\t\t}\n\t\t\tconst index = isAdult ? j - numChildren + 1 : numChildren;\n\t\t\tpeopleMenuItems.push(\n\t\t\t\t<Menu.Item key={name}>{title} {index}</Menu.Item>\n\t\t\t);\n\t\t}\n\t\tfamilyMenuItems.push(\n\t\t\t<SubMenu key={familyName} title={props.household.families.length == 1 ? \"Family\" : `Family ${i + 1}`}>\n\t\t\t\t<Menu.Item key={`family-${i}-overview`}>Overview</Menu.Item>\n\t\t\t\t{peopleMenuItems}\n\t\t\t</SubMenu>\n\t\t);\n\t};\n\treturn (\n\t\t<Menu\n\t\t\tmode=\"inline\"\n\t\t\tonClick={e => props.onSelect(e.key)}\n\t\t\tdefaultOpenKeys={[\"family-0\"]}\n\t\t\tdefaultSelectedKeys={[\"household\"]}\n\t\t>\n\t\t\t<Menu.Item key=\"household\">Your household</Menu.Item>\n\t\t\t{familyMenuItems}\n\t\t</Menu>\n\t);\n}\n\nexport default SituationMenu;","export const DEFAULT_HOUSEHOLD = {\n\tnum_families: {\n\t\ttitle: \"Number of families\",\n\t\tdescription: \"The number of nuclear families (benefit units) in the household. A family is at most two adults and any number of children. If you have more than two adults in the household, increase this beyond one\",\n\t\tdefault: 1,\n\t\tvalue: 1,\n\t\tmax: 3,\n\t}\n};\n\nexport const DEFAULT_FAMILY = {\n\tnum_people: {\n\t\ttitle: \"Number of people\",\n\t\tdescription: \"The number of people in the family\",\n\t\tdefault: 1,\n\t\tvalue: 1,\n\t\tmax: 10,\n\t}\n};\n\nexport const DEFAULT_PERSON = {\n\tage: {\n\t\ttitle: \"Age\",\n\t\tdescription: \"The age of the person\",\n\t\tdefault: 18,\n\t\tvalue: 18,\n\t\tmax: 80\n\t},\n\temployment_income: {\n\t\ttitle: \"Employment income\",\n\t\tdescription: \"Income from employment (gross)\",\n\t\tdefault: 0,\n\t\tvalue: 0,\n\t\tmax: 150000\n\t}\n};\n\nconst DEFAULT_SITUATION = {\n\t...DEFAULT_HOUSEHOLD,\n\tfamilies: [\n\t\t{\n\t\t\t...DEFAULT_FAMILY,\n\t\t\tpeople: [\n\t\t\t\tDEFAULT_PERSON\n\t\t\t]\n\t\t}\n\t]\n};\n\nexport default DEFAULT_SITUATION;","import { ParameterGroup } from \"../policy/controls\";\nimport { DEFAULT_HOUSEHOLD, DEFAULT_FAMILY, DEFAULT_PERSON } from \"./default_situation\";\n\nfunction SituationControls(props) {\n\tconst returnFunction = (key, value) => {props.onEnter(key, value, props.selected);};\n\tif(props.selected.includes(\"person\")) {\n\t\tconst family_number = +props.selected.split(\"-\")[1];\n\t\tconst person_number = +props.selected.split(\"-\")[3];\n\t\treturn <ParameterGroup onChange={returnFunction} policy={props.household.families[family_number].people[person_number]} names={Object.keys(DEFAULT_PERSON)} />;\n\t} else if(props.selected.includes(\"family\")) {\n\t\tconst family_number = +props.selected.split(\"-\")[1];\n\t\treturn <ParameterGroup onChange={returnFunction} policy={props.household.families[family_number]} names={Object.keys(DEFAULT_FAMILY)} />;\n\t} else {\n\t\treturn <ParameterGroup onChange={returnFunction} policy={props.household} names={Object.keys(DEFAULT_HOUSEHOLD)} />;\n\t}\n}\n\nexport default SituationControls;","import { Steps, Divider, Empty, Button } from \"antd\";\nimport { Link } from \"react-router-dom\";\nimport { SimulateButton } from \"../policy/overview\";\n\nconst { Step } = Steps;\n\nfunction SituationOverview(props) {\n\tconsole.log(props.household);\n\tconst isSingleFamily = props.household.families.length < 2;\n\tlet numPensioners = 0;\n\tlet numWA = 0;\n\tlet numChildren = 0;\n\n\tlet age;\n\tfor(let i = 0; i < props.household.families.length; i++) {\n\t\tfor(let j = 0; j < props.household.families[i].people.length; j++) {\n\t\t\tage = props.household.families[i].people[j].age.value;\n\t\t\tif(age < 18) {\n\t\t\t\tnumChildren++;\n\t\t\t} else if(age < 65) {\n\t\t\t\tnumWA++;\n\t\t\t} else {\n\t\t\t\tnumPensioners++;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Divider>Your plan</Divider>\n\t\t\t<Steps progressDot direction=\"vertical\">\n\t\t\t\t{\n\t\t\t\t\tObject.keys(props.policy).map((key, i) => (\n\t\t\t\t\t\tprops.policy[key].value !== props.policy[key].default\n\t\t\t\t\t\t\t? <Step key={key} status=\"finish\" title={props.policy[key].title} description={props.policy[key].summary.replace(\"@\", props.policy[key].value)} />\n\t\t\t\t\t\t\t: null\n\t\t\t\t\t))\n\t\t\t\t}\n\t\t\t</Steps>\n\t\t\t<Divider>Your situation</Divider>\n\t\t\t<Steps progressDot direction=\"vertical\">\n\t\t\t\t{\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Step status=\"finish\" title={isSingleFamily ? \"Single-family household\" : \"Multi-family household\"} description=\"This affects benefit entitlements\" />\n\t\t\t\t\t\t<Step status=\"finish\" title={(numWA == 0 ? \"No \" : numWA) + \" working-age adult\" + (numWA == 1 ? \"\" : \"s\")}/>\n\t\t\t\t\t\t<Step status=\"finish\" title={(numChildren == 0 ? \"No \" : numChildren) + \" child\" + (numChildren == 1 ? \"\" : \"ren\")}/>\n\t\t\t\t\t\t<Step status=\"finish\" title={(numPensioners == 0 ? \"No \" : numPensioners) + \" pensioner\" + (numPensioners == 1 ? \"\" : \"s\")}/>\n\t\t\t\t\t</>\n\t\t\t\t}\n\t\t\t</Steps>\n\t\t\t{\n\t\t\t\t!props.noButton ?\n\t\t\t\t\t<Empty description=\"\" image={null}>\n\t\t\t\t\t\t<SimulateButton text=\"Simulate on the population\" target=\"/population-results\" policy={props.policy} onClick={props.onSubmit}/>\n\t\t\t\t\t\t<div style={{paddingTop: 30}} />\n\t\t\t\t\t\t<SimulateButton text=\"Skip to your outcome\" target=\"/situation-results\" policy={props.policy} onClick={props.onSubmit}/>\n\t\t\t\t\t</Empty> :\n\t\t\t\t\t<></>\n\t\t\t}\n\t\t\t\n\t\t</>\n\t);\n}\n\n\n\nexport default SituationOverview;","import React from \"react\";\nimport SituationMenu from \"./situation/menu\";\nimport { Row, Col } from \"react-bootstrap\";\nimport SituationControls from \"./situation/controls\";\nimport { DEFAULT_FAMILY, DEFAULT_PERSON } from \"./situation/default_situation\";\nimport SituationOverview from \"./situation/overview\";\n\nclass Situation extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {household: this.props.situation.household, selected: \"household\"};\n\t\tthis.updateSituation = this.updateSituation.bind(this);\n\t}\n\n\tupdateSituation(key, value, selected) {\n\t\tlet household = this.state.household;\n\t\tif(selected.includes(\"family\")) {\n\t\t\tconst family_number = +selected.split(\"-\")[1];\n\t\t\tif(selected.includes(\"person\")) {\n\t\t\t\tconst person_number = +selected.split(\"-\")[3];\n\t\t\t\thousehold.families[family_number].people[person_number][key].value = value;\n\t\t\t} else {\n\t\t\t\thousehold.families[family_number][key].value = value;\n\t\t\t}\n\t\t} else {\n\t\t\thousehold[key].value = value;\n\t\t}\n\t\twhile(household.num_families.value > household.families.length) {\n\t\t\thousehold.families.push({ ...JSON.parse(JSON.stringify(DEFAULT_FAMILY)), people: []});\n\t\t}\n\t\twhile(household.num_families.value < household.families.length) {\n\t\t\thousehold.families.pop();\n\t\t}\n\t\tfor(let i = 0; i < household.families.length; i++) {\n\t\t\twhile(household.families[i].num_people.value > household.families[i].people.length) {\n\t\t\t\thousehold.families[i].people.push({...JSON.parse(JSON.stringify(DEFAULT_PERSON))});\n\t\t\t}\n\t\t\twhile(household.families[i].num_people.value < household.families[i].people.length) {\n\t\t\t\thousehold.families[i].people.pop();\n\t\t\t}\n\t\t}\n\t\tthis.setState({household: household});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Row>\n\t\t\t\t<Col xl={3}>\n\t\t\t\t\t<SituationMenu household={this.state.household} onSelect={name => {this.setState({selected: name});}}/>\n\t\t\t\t</Col>\n\t\t\t\t<Col xl={6}>\n\t\t\t\t\t<SituationControls selected={this.state.selected} household={this.state.household} onEnter={this.updateSituation}/>\n\t\t\t\t</Col>\n\t\t\t\t<Col xl={3}>\n\t\t\t\t\t<SituationOverview policy={this.props.policy} household={this.state.household} onSubmit={() => {this.props.onSubmit({household: this.state.household});}}/>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t);\n\t}\n}\n\nexport default Situation;","import { Divider, Empty, Spin, Card, Statistic } from \"antd\";\nimport Plot from \"react-plotly.js\";\nimport { ArrowUpOutlined, ArrowDownOutlined, LoadingOutlined } from \"@ant-design/icons\";\nimport { Row, Col } from \"react-bootstrap\";\n\nconst antIcon = <LoadingOutlined style={{ fontSize: 24 }} spin />;\n\nfunction HeadlineFigure(props) {\n\treturn (\n\t\t<Col style={{ padding: 10, margin: 10 }}>\n\t\t\t<Card style={{ minWidth: 150 }}>\n\t\t\t\t<Statistic\n\t\t\t\t\ttitle={props.title}\n\t\t\t\t\tvalue={props.value}\n\t\t\t\t\tprecision={props.precision}\n\t\t\t\t\tprefix={(!props.noArrow && !props.nonNumeric) ? (props.value >= 0 ? <><ArrowUpOutlined /></> : <><ArrowDownOutlined /></>) : <></>}\n\t\t\t\t\tsuffix={props.suffix}\n\t\t\t\t/>\n\t\t\t</Card>\n\t\t</Col>\n\t);\n}\n\nfunction Chart(props) {\n\treturn (\n\t\t<Col md={6}>\n\t\t\t<Plot\n\t\t\t\tdata={props.plot.data}\n\t\t\t\tlayout={props.plot.layout}\n\t\t\t\tconfig={{ displayModeBar: false }}\n\t\t\t\tstyle={{ width: \"100%\" }} \n\t\t\t/>\n\t\t</Col>\n\t);\n}\n\nexport function PopulationResultsPane(props) {\n\treturn (\n\t\t<>\n\t\t\t<Divider>Population results</Divider>\n\t\t\t<Row>\n\t\t\t\t<HeadlineFigure \n\t\t\t\t\ttitle=\"Net cost\" \n\t\t\t\t\tvalue={props.results.net_cost} \n\t\t\t\t\tnonNumeric\n\t\t\t\t/>\n\t\t\t\t<HeadlineFigure \n\t\t\t\t\ttitle=\"Poverty rate change\" \n\t\t\t\t\tvalue={props.results.poverty_change * 100} \n\t\t\t\t\tprecision={1}\n\t\t\t\t\tsuffix=\"%\"\n\t\t\t\t/>\n\t\t\t\t<HeadlineFigure \n\t\t\t\t\ttitle=\"Winner share\" \n\t\t\t\t\tvalue={props.results.winner_share * 100} \n\t\t\t\t\tprecision={1}\n\t\t\t\t\tsuffix=\"%\"\n\t\t\t\t\tnoArrow\n\t\t\t\t/>\n\t\t\t\t<HeadlineFigure \n\t\t\t\t\ttitle=\"Loser share\" \n\t\t\t\t\tvalue={props.results.loser_share * 100} \n\t\t\t\t\tprecision={1}\n\t\t\t\t\tsuffix=\"%\"\n\t\t\t\t\tnoArrow\n\t\t\t\t/>\n\t\t\t\t<HeadlineFigure \n\t\t\t\t\ttitle=\"Inequality\" \n\t\t\t\t\tvalue={props.results.inequality_change * 100} \n\t\t\t\t\tprecision={1}\n\t\t\t\t\tsuffix=\"%\"\n\t\t\t\t/>\n\t\t\t</Row>\n\t\t\t<Row>\n\t\t\t\t<Chart plot={props.results.decile_plot} />\n\t\t\t\t<Chart plot={props.results.poverty_plot} />\n\t\t\t\t<Chart plot={props.results.age} />\n\t\t\t\t<Chart plot={props.results.mtr_plot} />\n\t\t\t</Row>\n\t\t</>\n\t);\n}\n\nexport function LoadingResultsPane(props) {\n\treturn (\n\t\t<Empty description={props.message}>\n\t\t\t<Spin indicator={antIcon} />\n\t\t</Empty>\n\t);\n}","import { Steps, Divider, Empty, Button } from \"antd\";\nimport { Link } from \"react-router-dom\";\nimport { SimulateButton } from \"../policy/overview\";\n\nconst { Step } = Steps;\n\nfunction PolicySituationOverview(props) {\n\tconsole.log(props.household);\n\tconst isSingleFamily = props.household.families.length < 2;\n\tlet numPensioners = 0;\n\tlet numWA = 0;\n\tlet numChildren = 0;\n\n\tlet age;\n\tfor(let i = 0; i < props.household.families.length; i++) {\n\t\tfor(let j = 0; j < props.household.families[i].people.length; j++) {\n\t\t\tage = props.household.families[i].people[j].age.value;\n\t\t\tif(age < 18) {\n\t\t\t\tnumChildren++;\n\t\t\t} else if(age < 65) {\n\t\t\t\tnumWA++;\n\t\t\t} else {\n\t\t\t\tnumPensioners++;\n\t\t\t}\n\t\t}\n\t}\n\n\n\treturn (\n\t\t<>\n\t\t\t<Divider>Your plan</Divider>\n\t\t\t<Steps progressDot direction=\"vertical\">\n\t\t\t\t{\n\t\t\t\t\tObject.keys(props.policy).map((key, i) => (\n\t\t\t\t\t\tprops.policy[key].value !== props.policy[key].default\n\t\t\t\t\t\t\t? <Step key={key} status=\"finish\" title={props.policy[key].title} description={props.policy[key].summary.replace(\"@\", props.policy[key].value)} />\n\t\t\t\t\t\t\t: null\n\t\t\t\t\t))\n\t\t\t\t}\n\t\t\t</Steps>\n\t\t\t<Divider>Your situation</Divider>\n\t\t\t<Steps progressDot direction=\"vertical\">\n\t\t\t\t{\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Step status=\"finish\" title={isSingleFamily ? \"Single-family household\" : \"Multi-family household\"} description=\"This affects benefit entitlements\" />\n\t\t\t\t\t\t<Step status=\"finish\" title={(numWA == 0 ? \"No \" : numWA) + \" working-age adult\" + (numWA == 1 ? \"\" : \"s\")}/>\n\t\t\t\t\t\t<Step status=\"finish\" title={(numChildren == 0 ? \"No \" : numChildren) + \" child\" + (numChildren == 1 ? \"\" : \"ren\")}/>\n\t\t\t\t\t\t<Step status=\"finish\" title={(numPensioners == 0 ? \"No \" : numPensioners) + \" pensioner\" + (numPensioners == 1 ? \"\" : \"s\")}/>\n\t\t\t\t\t</>\n\t\t\t\t}\n\t\t\t</Steps>\n\t\t\t{\n\t\t\t\t!props.noButton ?\n\t\t\t\t\t<Empty description=\"\" image={null}>\n\t\t\t\t\t\t<SimulateButton text=\"See your results\" target=\"/situation-results\" policy={props.policy} onClick={props.onSubmit}/>\n\t\t\t\t\t</Empty> :\n\t\t\t\t\tnull\n\t\t\t}\n\t\t\t\n\t\t</>\n\t);\n}\n\n\n\nexport default PolicySituationOverview;","import React from \"react\";\nimport { PopulationResultsPane, LoadingResultsPane } from \"./population-results/results\";\nimport PolicySituationOverview from \"./population-results/overview\";\nimport { Row, Col } from \"react-bootstrap\";\n\nclass PopulationResults extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {plan: this.props.policy, results: null, waiting: false};\n\t\tthis.simulate = this.simulate.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.simulate();\n\t}\n\n\tsimulate() {\n\t\tconst submission = {};\n\t\tfor (const key in this.state.plan) {\n\t\t\tsubmission[key] = this.state.plan[key].value;\n\t\t}\n\t\tthis.setState({ waiting: true }, () => {\n\t\t\tfetch(\"http://localhost:5000/reform\", {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify(submission),\n\t\t\t}).then((res) => res.json()).then((json) => {\n\t\t\t\tthis.setState({ results: json, waiting: false });\n\t\t\t});\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Row>\n\t\t\t\t<Col xl={9}>\n\t\t\t\t\t{\n\t\t\t\t\t\t!this.state.results ?\n\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\" style={{minHeight: 400}}>\n\t\t\t\t\t\t\t\t<LoadingResultsPane message=\"Simulating your results on the UK population\"/>\n\t\t\t\t\t\t\t</div> :\n\t\t\t\t\t\t\t<PopulationResultsPane results={this.state.results} />\n\t\t\t\t\t}\n\t\t\t\t</Col>\n\t\t\t\t<Col xl={3} style={{paddingLeft: 50}}>\n\t\t\t\t\t<PolicySituationOverview policy={this.props.policy} household={this.props.situation.household}/>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t);\n\t}\n}\n\nexport default PopulationResults;","import { Divider, Empty, Spin, Card, Statistic } from \"antd\";\nimport Plot from \"react-plotly.js\";\nimport { ArrowUpOutlined, ArrowDownOutlined, LoadingOutlined } from \"@ant-design/icons\";\nimport { Row, Col } from \"react-bootstrap\";\n\nconst antIcon = <LoadingOutlined style={{ fontSize: 24 }} spin />;\n\nfunction ChangedHeadlineFigure(props) {\n\tconst formatNumber = num => (props.gbp ? \"£\" : \"\") + num.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2});\n\tconst oldV = formatNumber(props.oldValue);\n\tconst newV = formatNumber(props.newValue);\n\tlet prefix = null;\n\tconst gain = props.newValue > props.oldValue;\n\tconst loss = props.newValue < props.oldValue;\n\tlet changeColor = \"black\";\n\tif(gain) {\n\t\tchangeColor = \"green\";\n\t\tprefix = <ArrowUpOutlined style={{color: changeColor}} />;\n\t} else if(loss) {\n\t\tchangeColor = \"red\";\n\t\tprefix = <ArrowDownOutlined style={{color: changeColor}}/>;\n\t}\n\n\treturn (\n\t\t<Col style={{ padding: 10, margin: 10 }}>\n\t\t\t<Card style={{ minWidth: 300 }}>\n\t\t\t\t<Statistic\n\t\t\t\t\ttitle={props.title}\n\t\t\t\t\tvalue={[oldV, newV, props.oldValue, props.newValue]}\n\t\t\t\t\tformatter={x => x[0] !== x[1] ? <><s style={{color: \"grey\"}}>{x[0]}</s><br /><div style={{color: changeColor}}>{x[1]}<br />({prefix}{formatNumber(x[3] - x[2])})</div></> : x[0]}\n\t\t\t\t\tsuffix={props.suffix}\n\t\t\t\t/>\n\t\t\t</Card>\n\t\t</Col>\n\t);\n}\n\nfunction Chart(props) {\n\treturn (\n\t\t<Col md={6}>\n\t\t\t<Plot\n\t\t\t\tdata={props.plot.data}\n\t\t\t\tlayout={props.plot.layout}\n\t\t\t\tconfig={{ displayModeBar: false }}\n\t\t\t\tstyle={{ width: \"100%\" }} \n\t\t\t/>\n\t\t</Col>\n\t);\n}\n\nexport function SituationResultsPane(props) {\n\tconst NAMES = [\"Tax\", \"Income Tax\", \"National Insurance\", \"Universal Credit\", \"Benefits\", \"Household disposable income\"];\n\tconst KEYS = [\"tax\", \"income_tax\", \"national_insurance\", \"universal_credit\", \"benefits\", \"household_net_income\"];\n\tlet headlineFigures = [];\n\tfor(let i = 0; i < KEYS.length; i++) {\n\t\theadlineFigures.push(\n\t\t\t<ChangedHeadlineFigure \n\t\t\t\tkey={i}\n\t\t\t\ttitle={NAMES[i]}\n\t\t\t\toldValue={props.results[KEYS[i]].old}\n\t\t\t\tnewValue={props.results[KEYS[i]].new}\n\t\t\t\tgbp\n\t\t\t/>\n\t\t);\n\t}\n\treturn (\n\t\t<>\n\t\t\t<Divider>Your situation results</Divider>\n\t\t\t<Row>\n\t\t\t\t{headlineFigures}\n\t\t\t</Row>\n\t\t</>\n\t);\n}","import React from \"react\";\nimport PolicySituationOverview from \"./population-results/overview\";\nimport { SituationResultsPane } from \"./situation-results/results\";\nimport { LoadingResultsPane } from \"./population-results/results\";\nimport { Row, Col } from \"react-bootstrap\";\n\nclass SituationResults extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {plan: this.props.policy, situation: this.props.situation, results: null, waiting: false};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.simulate();\n\t}\n\n\tsimulate() {\n\t\tlet submission = {};\n\t\tfor (const key in this.state.plan) {\n\t\t\tsubmission[key] = this.state.plan[key].value;\n\t\t}\n\t\tsubmission[\"situation\"] = this.state.situation;\n\t\tthis.setState({ waiting: true }, () => {\n\t\t\tfetch(\"http://localhost:5000/situation-reform\", {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify(submission),\n\t\t\t}).then((res) => res.json()).then((json) => {\n\t\t\t\tthis.setState({ results: json, waiting: false });\n\t\t\t});\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Row>\n\t\t\t\t<Col xl={9}>\n\t\t\t\t\t{\n\t\t\t\t\t\t!this.state.results ?\n\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\" style={{minHeight: 400}}>\n\t\t\t\t\t\t\t\t<LoadingResultsPane message=\"Simulating policy on your situation\"/>\n\t\t\t\t\t\t\t</div> :\n\t\t\t\t\t\t\t<SituationResultsPane results={this.state.results} />\n\t\t\t\t\t}\n\t\t\t\t</Col>\n\t\t\t\t<Col xl={3} style={{paddingLeft: 50}}>\n\t\t\t\t\t<PolicySituationOverview policy={this.props.policy} household={this.props.situation.household} noButton/>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t);\n\t}\n}\n\nexport default SituationResults;","const DEFAULT_POLICY = {\n\tbasic_rate: {\n\t\ttitle: \"Basic rate\",\n\t\tdescription: \"The basic rate is the first of three tax brackets on all income, after allowances are deducted.\",\n\t\tdefault: 20,\n\t\tvalue: 20,\n\t\tsummary: \"Change the basic rate to @%\",\n\t\ttype: \"rate\",\n\t},\n\thigher_rate: {\n\t\ttitle: \"Higher rate\",\n\t\tdescription: \"The higher rate is the middle tax bracket.\",\n\t\tdefault: 40,\n\t\tvalue: 40,\n\t\tsummary: \"Change the higher rate to @%\",\n\t\ttype: \"rate\",\n\t},\n\tadd_rate: {\n\t\ttitle: \"Additional rate\",\n\t\tdescription: \"The additional rate is the highest tax bracket, with no upper bound.\",\n\t\tdefault: 45,\n\t\tvalue: 45,\n\t\tsummary: \"Change the additional rate to @%\",\n\t\ttype: \"rate\",\n\t},\n\tbasic_threshold: {\n\t\ttitle: \"Basic rate threshold\",\n\t\tdescription: \"Lower threshold for the basic rate, on income after allowances (including the personal allowance) have been deducted.\",\n\t\tdefault: 0,\n\t\tvalue: 0,\n\t\tmax: 100000,\n\t\tsummary: \"Change the basic rate to £@/year\",\n\t\ttype: \"yearly\",\n\t},\n\thigher_threshold: {\n\t\ttitle: \"Higher rate threshold\",\n\t\tdescription: \"The lower threshold for the higher rate of income tax (and therefore the upper threshold of the basic rate).\",\n\t\tdefault: 37500,\n\t\tvalue: 37500,\n\t\tmax: 200000,\n\t\tsummary: \"Change the higher rate to £@/year\",\n\t\ttype: \"yearly\",\n\t},\n\tadd_threshold: {\n\t\ttitle: \"Additional rate\",\n\t\tdescription: \"The lower threshold for the additional rate.\",\n\t\tdefault: 150000,\n\t\tvalue: 150000,\n\t\tmax: 1000000,\n\t\tsummary: \"Change the additional rate to £@/year\",\n\t\ttype: \"yearly\",\n\t},\n\tpersonal_allowance: {\n\t\ttitle: \"Personal allowance\",\n\t\tdescription: \"The personal allowance is deducted from general income.\",\n\t\tdefault: 12500,\n\t\tvalue: 12500,\n\t\tmax: 25000,\n\t\tsummary: \"Change the personal allowance to £@/year\",\n\t\ttype: \"yearly\",\n\t},\n\tNI_main_rate: {\n\t\ttitle: \"NI main rate\",\n\t\tdescription: \"The Class 1 NI main rate is paid on employment earnings between the Primary Threshold and the Upper Earnings Limit.\",\n\t\tdefault: 12,\n\t\tvalue: 12,\n\t\tsummary: \"Change the NI main rate to @%\",\n\t\ttype: \"rate\",\n\t},\n\tNI_add_rate: {\n\t\ttitle: \"NI additional rate\",\n\t\tdescription: \"The Class 1 NI additional rate is paid on employment earnings above the Upper Earnings Limit.\",\n\t\tdefault: 2,\n\t\tvalue: 2,\n\t\tsummary: \"Change the NI additional rate to @%\",\n\t\ttype: \"rate\",\n\t},\n\tNI_PT: {\n\t\ttitle: \"NI Primary Threshold\",\n\t\tdescription: \"The Primary Threshold is the lower bound for the main rate of NI.\",\n\t\tdefault: 183,\n\t\tvalue: 183,\n\t\tmax: 1000,\n\t\tsummary: \"Change the PT to £@/week\",\n\t\ttype: \"weekly\",\n\t},\n\tNI_UEL: {\n\t\ttitle: \"NI Upper Earnings Limit\",\n\t\tdescription: \"The Upper Earnings Limit is the upper bound for the main rate of NI.\",\n\t\tdefault: 962,\n\t\tvalue: 962,\n\t\tmax: 10000,\n\t\tsummary: \"Change the UEL to £@/week\",\n\t\ttype: \"weekly\",\n\t},\n\tchild_BI: {\n\t\ttitle: \"Child basic income\",\n\t\tdescription: \"A basic income for children is given to every child aged under 18, regardless of household income.\",\n\t\tdefault: 0,\n\t\tvalue: 0,\n\t\tmax: 250,\n\t\tsummary: \"Give a basic income of £@/week to children\",\n\t\ttype: \"weekly\",\n\t},\n\tadult_BI: {\n\t\ttitle: \"Adult basic income\",\n\t\tdescription: \"Basic income for adults is given to individuals aged over 18 but under State Pension age.\",\n\t\tdefault: 0,\n\t\tvalue: 0,\n\t\tmax: 250,\n\t\tsummary: \"Give a basic income of £@/week to adults\",\n\t\ttype: \"weekly\",\n\t},\n\tsenior_BI: {\n\t\ttitle: \"Senior basic income\",\n\t\tdescription: \"A basic income for senior citizens is given to those over State Pension age.\",\n\t\tdefault: 0,\n\t\tvalue: 0,\n\t\tmax: 250,\n\t\tsummary: \"Give a basic income of £@/week to seniors\",\n\t\ttype: \"weekly\",\n\t},\n};\n\nexport default DEFAULT_POLICY;\n","// JS imports\n\nimport React from \"react\";\n\nimport Header from \"./ui/header\";\nimport Policy from \"./pages/policy\";\nimport Situation from \"./pages/situation\";\nimport PopulationResults from \"./pages/population-results\";\nimport SituationResults from \"./pages/situation-results\";\nimport {\n\tBrowserRouter as Router,\n\tSwitch,\n\tRoute,\n\tLink,\n} from \"react-router-dom\";\nimport { Container } from \"react-bootstrap\";\n\n// JSON imports\n\nimport DEFAULT_POLICY from \"./pages/policy/default_policy\";\nimport DEFAULT_SITUATION from \"./pages/situation/default_situation\";\n\n// CSS imports\n\nimport \"../css/App.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"antd/dist/antd.css\";\n\nfunction getPolicyFromURL() {\n\tlet plan = DEFAULT_POLICY;\n\tconst { searchParams } = new URL(document.location);\n\tfor (const key of searchParams.keys()) {\n\t\tplan[key].value = +searchParams.get(key);\n\t}\n\treturn plan;\n}\n\n\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {policy: getPolicyFromURL(), situation: {household: DEFAULT_SITUATION}};\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<Router>\n\t\t\t\t<Container fluid style={{paddingBottom: 50}}>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route path=\"/\" exact>\n\t\t\t\t\t\t\t<Header step={0}/>\n\t\t\t\t\t\t\t<Policy policy={this.state.policy} onSubmit={policy => {this.setState({policy: policy});}}/>\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path=\"/situation\">\n\t\t\t\t\t\t\t<Header step={1}/>\n\t\t\t\t\t\t\t<Situation policy={this.state.policy} onSubmit={situation =>{this.setState({situation: situation});}} situation={this.state.situation} />\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path=\"/population-results\">\n\t\t\t\t\t\t\t<Header step={2}/>\n\t\t\t\t\t\t\t<PopulationResults policy={this.state.policy} situation={this.state.situation}/>\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path=\"/situation-results\">\n\t\t\t\t\t\t\t<Header step={3}/>\n\t\t\t\t\t\t\t<SituationResults policy={this.state.policy} situation={this.state.situation}/>\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t</Switch>\n\t\t\t\t</Container>\n\t\t\t</Router>\n\t\t);\n\t}\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./js/App\";\n\nReactDOM.render(\n\t<App />,\n\tdocument.getElementById(\"root\"),\n);\n"],"sourceRoot":""}